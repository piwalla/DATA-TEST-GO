# 다음 단계 추천 (TODO.md 기반)

## 현재 진행 상황 요약

### ✅ 완료된 Phase
- **Phase 1**: 기본 구조 & 공통 설정 (대부분 완료)
- **Phase 2.1**: 페이지 기본 구조 ✅
- **Phase 2.2**: 관광지 목록 기능 ✅
- **Phase 2.3**: 필터 기능 추가 ✅
- **Phase 2.4**: 검색 기능 추가 ✅

### 🔄 진행 중/미완료
- **Phase 2.5**: 지도 연동 (테스트 완료, 실제 구현 필요)
- **Phase 2.6**: 페이지네이션 (정렬 완료, 페이지네이션 미완료)
- **Phase 3**: 상세페이지 (미시작)

---

## 🎯 우선순위 1: Phase 2.5 - 지도 연동 (MVP 2.2)

### 추천 이유
1. **MVP 핵심 기능**: PRD 2.2에서 명시된 핵심 기능
2. **자연스러운 흐름**: 목록, 필터, 검색이 완료된 후 지도 표시가 자연스러움
3. **테스트 완료**: `/map-test` 페이지에서 기본 기능 검증 완료
4. **사용자 경험**: 지도가 있으면 위치 기반 정보 제공 가능

### 작업 내용
1. `components/naver-map.tsx` 생성
   - 네이버 지도 API 초기화 (테스트 페이지 참고)
   - 스크립트 동적 로드 (`ncpKeyId`/`ncpClientId` 자동 재시도)
   - 기본 지도 표시

2. 관광지 마커 표시
   - 현재 목록의 모든 관광지를 마커로 표시
   - 마커 클릭 시 인포윈도우 (관광지명, 주소, "상세보기" 버튼)

3. 리스트-지도 연동
   - 리스트 항목 클릭 시 해당 마커로 지도 이동
   - 리스트 항목 호버 시 해당 마커 강조 (선택 사항)

4. `app/page.tsx` 통합
   - 데스크톱: 리스트(좌측 50%) + 지도(우측 50%)
   - 모바일: 탭 형태로 리스트/지도 전환 (이미 구현됨)

### 예상 작업 시간: 2-3시간

### 참고 파일
- `app/map-test/page.tsx` - 테스트 페이지 (기본 구조 참고)
- `docs/NAVER_MAP_API_TEST.md` - 네이버 지도 API 테스트 결과
- `docs/API_TEST_RESULT.md` - 좌표 데이터 형식 확인

---

## 🎯 우선순위 2: Phase 2.6 - 페이지네이션

### 추천 이유
1. **정렬 완료**: 최신순/이름순 정렬은 이미 구현됨
2. **사용자 경험**: 많은 결과를 페이지 단위로 나누어 표시
3. **성능**: 한 번에 너무 많은 데이터를 로드하지 않음

### 작업 내용
1. 페이지네이션 UI 컴포넌트
   - 페이지 번호 표시
   - 이전/다음 버튼
   - 현재 페이지 하이라이트

2. API 호출 수정
   - `pageNo` 파라미터 동적 관리
   - 페이지 변경 시 API 재호출

3. 무한 스크롤 (선택 사항)
   - 또는 페이지네이션 버튼 방식 선택

### 예상 작업 시간: 1-2시간

---

## 🎯 우선순위 3: Phase 3 - 상세페이지 (`/places/[contentId]`)

### 추천 이유
1. **MVP 핵심 기능**: PRD 2.4에서 명시된 핵심 기능
2. **사용자 흐름**: 목록 → 상세페이지 이동이 자연스러움
3. **현재 상태**: 카드 클릭 시 상세페이지로 이동하지만 페이지가 없음

### 작업 내용
1. `app/places/[contentId]/page.tsx` 생성
   - 동적 라우팅 설정
   - 기본 레이아웃 구조

2. 기본 정보 섹션 (MVP 2.4.1)
   - `getDetailCommon()` API 연동
   - 관광지명, 이미지, 주소, 전화번호, 홈페이지, 개요 표시
   - 주소 복사, 전화 연결 기능

3. 지도 섹션 (MVP 2.4.4)
   - 해당 관광지 위치 표시 (마커 1개)
   - "길찾기" 버튼

4. 공유 기능 (MVP 2.4.5)
   - URL 복사 기능
   - Open Graph 메타태그 동적 생성

### 예상 작업 시간: 3-4시간

---

## 📊 진행 순서 추천

```
현재 상태:
✅ Phase 2.1: 페이지 기본 구조
✅ Phase 2.2: 관광지 목록 기능
✅ Phase 2.3: 필터 기능 추가
✅ Phase 2.4: 검색 기능 추가
   ↓
1️⃣ Phase 2.5: 지도 연동 (다음 단계) ⭐
   ↓
2️⃣ Phase 2.6: 페이지네이션
   ↓
3️⃣ Phase 3: 상세페이지
   ↓
4️⃣ Phase 4: 북마크 기능
```

---

## 💡 Phase 2.5 구현 시 고려사항

### 기술적 고려사항
1. **스크립트 로드**: 동적 import 사용 (`ssr: false`)
2. **좌표 변환**: WGS84 형식 직접 사용 (변환 불필요, 테스트 확인)
3. **마커 관리**: 관광지 목록 변경 시 마커 업데이트
4. **성능**: 많은 마커 표시 시 성능 고려 (현재는 20개 정도)

### UI/UX 고려사항
1. **반응형**: 데스크톱/모바일 레이아웃 (이미 구조는 있음)
2. **인터랙션**: 리스트-지도 연동으로 사용자 경험 향상
3. **로딩 상태**: 지도 로딩 중 스피너 표시

### 참고 코드
- `app/map-test/page.tsx`의 `initializeMap` 함수 참고
- 네이버 지도 API 초기화 로직 재사용 가능

---

## 📝 다음 작업 시작 전 확인 사항

1. **환경변수**: `NEXT_PUBLIC_NAVER_MAP_CLIENT_ID` 설정 확인
2. **테스트 페이지**: `/map-test`에서 지도가 정상 작동하는지 확인
3. **API 데이터**: 현재 목록의 관광지 좌표 데이터 확인

---

## 참고 문서

- [PRD 문서](./prd.md#2.2-네이버-지도-연동) - 지도 연동 요구사항
- [디자인 문서](./design.md) - 페이지 레이아웃
- [네이버 지도 API 테스트 결과](./NAVER_MAP_API_TEST.md) - API 사용 방법
- [API 테스트 결과](./API_TEST_RESULT.md) - 좌표 데이터 형식

